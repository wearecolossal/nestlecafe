function mapScript(e,o,a,i){function t(){navigator.geolocation?(navigator.geolocation.getCurrentPosition(n,v),h(),$(".mobile.notice").addClass("active")):d.innerHTML="Geolocation is not supported by this browser."}function n(e){p=new google.maps.Geocoder;var o=e.coords.latitude,a=e.coords.longitude;f(o,a),u(o,a,9)}function s(){p=new google.maps.Geocoder;var e="31.968599",o="-99.901813";u(e,o,5)}function l(){var e=document.getElementById("address").value;p.geocode({address:e},function(e,o){o==google.maps.GeocoderStatus.OK?(d.setZoom(9),d.setCenter(e[0].geometry.location),f(e[0].geometry.location.lat(),e[0].geometry.location.lng()),h()):alert("Geocode was not successful for the following reason: "+o)})}function c(){function e(e,o){return $(o).data("miles")<$(e).data("miles")?1:-1}$(".map-list li").sort(e).appendTo(".map-list")}$("button.find-address").on("click",function(){l()});var r,d=$("#map"),m=0,g=function(e,o){var a=new google.maps.LatLng(e,o),i={zoom:15,center:a,mapTypeControl:!1,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL},mapTypeId:google.maps.MapTypeId.ROADMAP},t=new google.maps.Map(document.getElementById("map"),i),n=new google.maps.Marker({position:a,map:t,title:"You are here!"})},u=function(e,o,a){var i=new google.maps.LatLng(e,o),t={zoom:a,center:i};$("#map").addClass("active"),d=new google.maps.Map(document.getElementById("map"),t);var n={lat:e,lng:o}},v=function(e){console.log("Error occurred. Error code: "+e.code),e.code<=3&&s()},p,d;setTimeout(function(){t()},1e3);var f=function(o,a){$(".map-list").html(""),$(".map-list").hide(),$.getJSON(e+o+"/"+a,function(e){$.each(e,function(e,o){var a=o[0].online_order.length,t=" ";1>a&&(t="hide");var n=o[0].map.length,s=" ";1>n&&(s="hide");var l=o[0].facebook.length;console.log(l);var c=" ";1>l&&(c="hide"),$(".map-list").append('<li data-miles="'+o[0].miles+'" class="cafe-list-item"><div class="list-container"><div class="image-container" style="background:url('+o[0].image+')"></div><div class="cafe-info"><span class="name">'+o[0].name+"</span><br><small>"+o[0].address+"</small><br/><small>"+Math.round(o[0].miles)+' miles</small><br><a target="_blank" class="'+t+' online-order" href="'+o[0].online_order+'">Online Order</a> <a target="_blank" class="'+s+'" href="'+o[0].map+'">Get Directions</a></div><div class="clearfix"></div><div class="services"><img class="active-'+o[0].wifi+' loc-wifi" src="'+i+'/loc-wifi.png" width="30"/><img class="active-'+o[0].coffee+' loc-coffee" src="'+i+'/loc-coffee.png" width="30"/><img class="active-'+o[0].cookie+' loc-cookie" src="'+i+'/loc-cookie.png" width="30"/><img class="active-'+o[0].frozenyogurt+' loc-frozenyogurt" src="'+i+'/loc-frozenyogurt.png" width="30"/><img class="active-'+o[0].bakery+' loc-bakery" src="'+i+'/loc-bakery.png" width="30"/><img class="active-'+o[0].curbside+' loc-curbside" src="'+i+'/loc-curbside.png" width="30"/><img class="active-'+o[0].icecream+' loc-icecream" src="'+i+'/loc-icecream.png" width="30"/><img class="active-'+o[0].savory+' loc-savory" src="'+i+'/loc-savory.png" width="30"/><a target="_blank" href="'+o[0].facebook+'" class="facebook '+c+'"><img src="'+i+'/ico-facebook.png" width="25"/></a><div class="clearfix"></div></div><div class="clearfix"></div></div><div class="clearfix"></div></li>')}),e.length<1&&$(".map-list").html('<li class="no-result">Sorry, there are no nearby caf&eacute;s!</li>')}),setTimeout(function(){c()},1e3),setTimeout(function(){$(".map-list").fadeIn()},1500)},h=function(){setTimeout(function(){$.getJSON(o,function(e){$.each(e,function(e,o){function i(){null!==n.getAnimation()?n.setAnimation(null):n.setAnimation(google.maps.Animation.BOUNCE)}var t=new google.maps.LatLng(o.lat,o.lng),n=new google.maps.Marker({position:t,map:d,animation:google.maps.Animation.DROP,title:o.title,direction:o.directions,icon:a,thumbnail:o.thumbnail}),s="",l="";n.direction.length<1&&(s="display:none"),n.thumbnail.length<1&&(l="display:none");var c=null,r=null;r=new google.maps.InfoWindow,n.addListener("click",function(){r.setContent('<p><img src="'+o.thumbnail+'" width="128" style="'+l+'"/><br/><strong>'+this.title+'</strong><br/> <a class="map-button" style="'+s+'" target="_blank" href="'+this.direction+'">directions</a>'),r.open(d,this)})})})},3e3)};$(".filter-choices a").on("click",function(){var e=$(this);$(".map-list li.no-results").remove();var o=$(this).data("filter");e.hasClass("chosen")?($(".filter-choices a").removeClass("chosen"),$(".map-list li").fadeIn()):($(".filter-choices a").removeClass("chosen"),$(this).addClass("chosen"),$(".map-list li").fadeOut(),$("img.active-1."+o).parent().parent().parent().fadeIn(),$("img.active-1."+o).length<1&&$(".map-list").append('<li class="no-result">Sorry, there are results for your filter!</li>'))})}var menuToggles=function(e){e>842&&($("ul.navlist a.dropdown").mouseenter(function(){var e=$(this).data("dropdown");$(e).addClass("active"),$(".navigation").addClass("extended")}),$("ul.navlist a.dropdown").mouseleave(function(){var e=$(this).data("dropdown");$(e).hasClass("active")||($(e).removeClass("active"),$(".navigation").removeClass("extended"))}),$("ul.navlist a").mouseleave(function(){$(this).hasClass("dropdown")||($("ul.menulist").removeClass("active"),$(".navigation").removeClass("extended"))}),$(".menulist.dropdown").mouseleave(function(){$(this).hasClass("active")&&($(this).removeClass("active"),$(".navigation").removeClass("extended"))}),$("a.logo").mouseenter(function(){$("ul.menulist").removeClass("active"),$(".navigation").removeClass("extended")}))};$(document).ready(function(){var e=$(window).width();menuToggles(e),$(window).resize(function(){e=$(this).width(),menuToggles(e)}),$("a.mobile-show").click(function(){$("ul.navlist").toggleClass("display"),$(".menulist").removeClass("active"),$(".navigation").toggleClass("mobile-extended")}),$("li.mobile-current a").click(function(){$(".columns.side").toggleClass("mobile-extended")})});