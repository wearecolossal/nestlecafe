function mapScript(e,o,n){function t(){navigator.geolocation?(navigator.geolocation.getCurrentPosition(a,u),f()):c.innerHTML="Geolocation is not supported by this browser."}function a(e){p=new google.maps.Geocoder;var o=e.coords.latitude,n=e.coords.longitude;v(o,n),g(o,n,10)}function i(){p=new google.maps.Geocoder;var e="31.968599",o="-99.901813";g(e,o,5)}function s(){var e=document.getElementById("address").value;p.geocode({address:e},function(e,o){if(o==google.maps.GeocoderStatus.OK){c.setZoom(11),c.setCenter(e[0].geometry.location);var n=new google.maps.Marker({map:c,position:e[0].geometry.location});v(e[0].geometry.location.lat(),e[0].geometry.location.lng()),f()}else alert("Geocode was not successful for the following reason: "+o)})}function l(){function e(e,o){return $(o).data("miles")<$(e).data("miles")?1:-1}$(".map-list li").sort(e).appendTo(".map-list")}$("button.find-address").on("click",function(){s()});var r,c=$("#map"),m=0,d=function(e,o){var n=new google.maps.LatLng(e,o),t={zoom:15,center:n,mapTypeControl:!1,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL},mapTypeId:google.maps.MapTypeId.ROADMAP},a=new google.maps.Map(document.getElementById("map"),t),i=new google.maps.Marker({position:n,map:a,title:"You are here!"})},g=function(e,o,n){var t=new google.maps.LatLng(e,o),a={zoom:n,center:t};$("#map").addClass("active"),c=new google.maps.Map(document.getElementById("map"),a);var i={lat:e,lng:o},s=new google.maps.Marker({position:i,map:c,title:"You are here!"})},u=function(e){console.log("Error occurred. Error code: "+e.code),e.code<=3&&i()},p,c;setTimeout(function(){t()},1e3);var v=function(o,n){$(".map-list").html(""),$(".map-list").hide(),$.getJSON(e+o+"/"+n,function(e){$.each(e,function(e,o){$(".map-list").append('<li data-miles="'+o[0].miles+'"><div class="list-container"><div class=image-container" style="background:url('+o[0].image+') top left;background-size:cover;width:200px;height:150px;float:left;"></div><div class="cafe-info">'+o[0].name+"<br><small>"+o[0].address+"</small><br/><small>"+Math.round(o[0].miles)+' miles</small></div><div class="clearfix"></div><div class="services"></div></div></li>')}),e.length<1&&$(".map-list").html("<li>Sorry, there are no nearby caf&eacute;s!</li>")}),setTimeout(function(){l()},1e3),setTimeout(function(){$(".map-list").fadeIn()},1500)},f=function(){setTimeout(function(){$.getJSON(o,function(e){$.each(e,function(e,o){function t(){null!==i.getAnimation()?i.setAnimation(null):i.setAnimation(google.maps.Animation.BOUNCE)}var a=new google.maps.LatLng(o.lat,o.lng),i=new google.maps.Marker({position:a,map:c,animation:google.maps.Animation.DROP,title:o.title,direction:o.directions,icon:n,thumbnail:o.thumbnail}),s="",l="";i.direction.length<1&&(s="display:none"),i.thumbnail.length<1&&(l="display:none");var r=null,m=null;m=new google.maps.InfoWindow,i.addListener("click",function(){m.setContent('<p><img src="'+o.thumbnail+'" width="128" style="'+l+'"/><br/><strong>'+this.title+'</strong><br/> <a class="map-button" style="'+s+'" target="_blank" href="'+this.direction+'">directions</a>'),m.open(c,this)})})})},3e3)}}var menuToggles=function(e){e>842&&($("ul.navlist a.dropdown").mouseenter(function(){var e=$(this).data("dropdown");$(e).addClass("active"),$(".navigation").addClass("extended")}),$("ul.navlist a.dropdown").mouseleave(function(){var e=$(this).data("dropdown");$(e).hasClass("active")||($(e).removeClass("active"),$(".navigation").removeClass("extended"))}),$("ul.navlist a").mouseleave(function(){$(this).hasClass("dropdown")||($("ul.menulist").removeClass("active"),$(".navigation").removeClass("extended"))}),$(".menulist.dropdown").mouseleave(function(){$(this).hasClass("active")&&($(this).removeClass("active"),$(".navigation").removeClass("extended"))}),$("a.logo").mouseenter(function(){$("ul.menulist").removeClass("active"),$(".navigation").removeClass("extended")}))};$(document).ready(function(){var e=$(window).width();menuToggles(e),$(window).resize(function(){e=$(this).width(),menuToggles(e)}),$("a.mobile-show").click(function(){$("ul.navlist").toggleClass("display"),$(".menulist").removeClass("active"),$(".navigation").toggleClass("mobile-extended")}),$("li.mobile-current a").click(function(){$(".columns.side").toggleClass("mobile-extended")})});