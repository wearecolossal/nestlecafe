function mapScript(e,t,o,a){function i(){navigator.geolocation?(navigator.geolocation.getCurrentPosition(s,f),v(),$(".mobile.notice").addClass("active")):d.innerHTML="Geolocation is not supported by this browser."}function s(e){g=new google.maps.Geocoder;var t=e.coords.latitude,o=e.coords.longitude;y(t,o),u(t,o,9)}function l(){g=new google.maps.Geocoder;var e="31.968599",t="-99.901813";u(e,t,5)}function n(){var e=document.getElementById("address").value;g.geocode({address:e},function(e,t){t==google.maps.GeocoderStatus.OK?(d.setZoom(9),d.setCenter(e[0].geometry.location),y(e[0].geometry.location.lat(),e[0].geometry.location.lng()),v()):alert("Geocode was not successful for the following reason: "+t)})}function r(){function e(e,t){return $(t).data("miles")<$(e).data("miles")?1:-1}$(".map-list li").sort(e).appendTo(".map-list")}$("button.find-address").on("click",function(){n()});var c,d=$("#map"),m=0,p=function(e,t){var o=new google.maps.LatLng(e,t),a={scrollwheel:!1,zoom:15,center:o,mapTypeControl:!1,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL},styles:[{featureType:"water",stylers:[{saturation:43},{lightness:-11},{hue:"#0088ff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ff0000"},{saturation:-100},{lightness:99}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#808080"},{lightness:54}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ece2d9"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#ccdca1"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#767676"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#EBE5E0"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]}],mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(document.getElementById("map"),a),s=new google.maps.Marker({position:o,map:i,title:"You are here!"})},u=function(e,t,o){var a=new google.maps.LatLng(e,t),i={scrollwheel:!1,zoom:o,center:a,styles:[{featureType:"water",stylers:[{saturation:43},{lightness:-11},{hue:"#0088ff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ff0000"},{saturation:-100},{lightness:99}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#808080"},{lightness:54}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ece2d9"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#ccdca1"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#767676"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",stylers:[{visibility:"on"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#EBE5E0"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]}]};$("#map").addClass("active"),d=new google.maps.Map(document.getElementById("map"),i);var s={lat:e,lng:t}},f=function(e){console.log("Error occurred. Error code: "+e.code),e.code<=3&&l()},g,d;setTimeout(function(){i()},1e3);var y=function(t,o){$(".map-list").html(""),$(".map-list").hide(),$.getJSON(e+t+"/"+o,function(e){$.each(e,function(e,t){var o=t[0].online_order.length,i=" ";1>o&&(i="hide");var s=t[0].map.length,l=" ";1>s&&(l="hide");var n=t[0].facebook.length;console.log(n);var r=" ";1>n&&(r="hide"),$(".map-list").append('<li data-miles="'+t[0].miles+'" class="cafe-list-item"><div class="list-container"><div class="image-container" style="background:url('+t[0].image+')"></div><div class="cafe-info"><span class="name">'+t[0].name+' <a target="_blank" href="'+t[0].facebook+'" class="'+r+'"><img src="'+a+'/ico-facebook.png" width="15" style="margin-top:-3px;"/></a></span><br><small>'+t[0].address+"</small><br/><small>"+Math.round(t[0].miles)+' miles</small><br><a target="_blank" class="'+i+' online-order" href="'+t[0].online_order+'">Order Online </a> <a target="_blank" class="'+l+'" href="'+t[0].map+'">Get Directions</a></div><div class="clearfix"></div><div class="services"><img class="active-'+t[0].wifi+' loc-wifi" src="'+a+'/loc-wifi.png" width="30"/><img class="active-'+t[0].coffee+' loc-coffee" src="'+a+'/loc-coffee.png" width="30"/><img class="active-'+t[0].cookie+' loc-cookie" src="'+a+'/loc-cookie.png" width="30"/><img class="active-'+t[0].frozenyogurt+' loc-frozenyogurt" src="'+a+'/loc-frozenyogurt.png" width="30"/><img class="active-'+t[0].bakery+' loc-bakery" src="'+a+'/loc-bakery.png" width="30"/><img class="active-'+t[0].curbside+' loc-curbside" src="'+a+'/loc-curbside.png" width="30"/><img class="active-'+t[0].icecream+' loc-icecream" src="'+a+'/loc-icecream.png" width="30"/><img class="active-'+t[0].savory+' loc-savory" src="'+a+'/loc-savory.png" width="30"/><div class="clearfix"></div></div><div class="clearfix"></div></div><div class="clearfix"></div></li>')}),e.length<1&&$(".map-list").html('<li class="no-result">Sorry, there are no nearby caf&eacute;s!</li>')}),setTimeout(function(){r()},1e3),setTimeout(function(){$(".map-list").fadeIn()},1500)},v=function(){setTimeout(function(){$.getJSON(t,function(e){$.each(e,function(e,t){function a(){null!==s.getAnimation()?s.setAnimation(null):s.setAnimation(google.maps.Animation.BOUNCE)}var i=new google.maps.LatLng(t.lat,t.lng),s=new google.maps.Marker({position:i,map:d,animation:google.maps.Animation.DROP,title:t.title,direction:t.directions,icon:o,thumbnail:t.thumbnail}),l="",n="";s.direction.length<1&&(l="display:none"),s.thumbnail.length<1&&(n="display:none");var r=null,c=null;c=new google.maps.InfoWindow,s.addListener("click",function(){c.setContent('<p><img src="'+t.thumbnail+'" width="128" style="'+n+'"/><br/><strong>'+this.title+'</strong><br/> <a class="map-button" style="'+l+'" target="_blank" href="'+this.direction+'">directions</a>'),c.open(d,this)})})})},3e3)};$(".filter-choices a").on("click",function(){var e=$(this);$(".map-list li.no-results").remove();var t=$(this).data("filter");e.hasClass("chosen")?($(".filter-choices a").removeClass("chosen"),$(".map-list li").fadeIn()):($(".filter-choices a").removeClass("chosen"),$(this).addClass("chosen"),$(".map-list li").fadeOut(),$("img.active-1."+t).parent().parent().parent().fadeIn(),$("img.active-1."+t).length<1&&$(".map-list").append('<li class="no-result">Sorry, there are no results for your filter!</li>'))})}var addUrlToDocuments=function(e){var t=$('a[data-load="document"]');t.each(function(){var t=$(this).attr("href");$(this).attr("href",e+t)})},menuToggles=function(e){e>842&&($("ul.navlist a.dropdown").mouseenter(function(){var e=$(this).data("dropdown");$(e).addClass("active"),$(".navigation").addClass("extended")}),$("ul.navlist a.dropdown").mouseleave(function(){var e=$(this).data("dropdown");$(e).hasClass("active")||($(e).removeClass("active"),$(".navigation").removeClass("extended"))}),$("ul.navlist a").mouseleave(function(){$(this).hasClass("dropdown")||($("ul.menulist").removeClass("active"),$(".navigation").removeClass("extended"))}),$(".menulist.dropdown").mouseleave(function(){$(this).hasClass("active")&&($(this).removeClass("active"),$(".navigation").removeClass("extended"))}),$("a.logo").mouseenter(function(){$("ul.menulist").removeClass("active"),$(".navigation").removeClass("extended")}))};$(document).ready(function(){var e=$(window).width();menuToggles(e),$(window).resize(function(){e=$(this).width(),menuToggles(e)}),$("a.mobile-show").click(function(){$("ul.navlist").toggleClass("display"),$(".menulist").removeClass("active"),$(".navigation").toggleClass("mobile-extended")}),$("li.mobile-current a").click(function(){$(".columns.side").toggleClass("mobile-extended")})});